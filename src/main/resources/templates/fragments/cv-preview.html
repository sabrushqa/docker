<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CV Preview</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"> <!-- adapte si besoin -->
</head>
<body>
<div class="cv-preview">
    <div class="cv-left-column">
        <img th:if="${cv.photo != null}" th:src="${cv.photo}" class="profile-photo" alt="Photo de profil">

        <div class="contact-info">
            <p th:if="${cv.fullName}"><strong>üë§ [[${cv.fullName}]]</strong></p>
            <p th:if="${cv.email}">üìß [[${cv.email}]]</p>
            <p th:if="${cv.phone}">üì± [[${cv.phone}]]</p>
            <p th:if="${cv.location}">üìç [[${cv.location}]]</p>
        </div>

        <div th:if="${!#lists.isEmpty(cv.skills)}" class="cv-section">
            <h2>‚≠ê Comp√©tences</h2>
            <div class="skills-list">
                <div th:each="skill : ${cv.skills}" class="skill-item">
                    <span class="skill-name">[[${skill.name}]]</span>
                    <span class="skill-level">[[${skill.level}]]</span>
                </div>
            </div>
        </div>

        <div th:if="${!#lists.isEmpty(cv.languages)}" class="cv-section">
            <h2>üó£Ô∏è Langues</h2>
            <div class="languages-list">
                <div th:each="language : ${cv.languages}" class="language-item">
                    <span class="language-name">[[${language.name}]]</span>
                    <span class="language-level">[[${language.level}]]</span>
                </div>
            </div>
        </div>
    </div>

    <div class="cv-right-column">
        <div th:if="${cv.summary}" class="cv-section">
            <h2>üìù R√©sum√© professionnel</h2>
            <p class="summary">[[${cv.summary}]]</p>
        </div>

        <div th:if="${!#lists.isEmpty(cv.experiences)}" class="cv-section">
            <h2>üíº Exp√©rience professionnelle</h2>
            <div th:each="exp : ${cv.experiences}" class="experience-item">
                <h3>[[${exp.title}]]</h3>
                <p class="company-info">
                    [[${exp.company}]]
                    <span th:if="${exp.location != null}"> - [[${exp.location}]]</span>
                </p>
                <p class="date-range">
                    [[${exp.startDate}]] -
                    <span th:text="${exp.endDate != null ? exp.endDate : 'Pr√©sent'}"></span>
                </p>
                <p class="description">[[${exp.description}]]</p>
            </div>
        </div>

        <div th:if="${!#lists.isEmpty(cv.educations)}" class="cv-section">
            <h2>üéì Formation</h2>
            <div th:each="edu : ${cv.educations}" class="education-item">
                <h3>[[${edu.degree}]]</h3>
                <p class="school-info">
                    [[${edu.school}]]
                    <span th:if="${edu.location != null}"> - [[${edu.location}]]</span>
                </p>
                <p class="date-range">
                    [[${edu.startDate}]] -
                    <span th:text="${edu.endDate != null ? edu.endDate : 'Pr√©sent'}"></span>
                </p>
                <p class="description">[[${edu.description}]]</p>
            </div>
        </div>
    </div>
</div>
</body>
</html>
